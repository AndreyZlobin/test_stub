import { AdAuth, UncheckedAdAuth } from '~/types/api/ad';

const CREDENTIALS_CHECK_ERROR = 'Ошибка проверки данных пользователя:';

export const getValidCredentials = (credentials?: UncheckedAdAuth) => {
    if (!credentials) {
        throw new Error(`${CREDENTIALS_CHECK_ERROR} пустой ответ ad-api.`);
    }

    if (!credentials.username) {
        throw new Error(
            `${CREDENTIALS_CHECK_ERROR} неверный ответ ad-api - отсутствует поле username.`,
        );
    }

    return credentials as AdAuth;
};